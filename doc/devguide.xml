<?xml version="1.0" encoding="UTF-8"?>
<book version="5.0" xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <title>Silk Development Guide</title>

    <author>
      <personname><firstname>Ted</firstname><surname>Kulp</surname></personname>

      <affiliation>
        <orgname>http://silkframework.com</orgname>
      </affiliation>
    </author>

    <pubdate>2009</pubdate>
  </info>

  <chapter>
    <title>Sample Application</title>

    <section>
      <title>Setting up your environment</title>

      <para>Discuss setting up apache, php, etc on a unix or Mac environment.
      Explain that I use a Mac for mostly everything I do development-wise.
      Explain why quickly, then drop it.</para>

      <para>Make sure git is installed. Also, a nice ruby environment is good
      as well. Allows for the use of giternal intead of doing traditional git
      branches... messy, messy, messy.</para>
    </section>

    <section>
      <title>Creating a new application</title>

      <para>The basic steps for setting up an application with silk go as
      follows. Using a terminal, use the following commands:</para>

      <orderedlist>
        <listitem>
          <para><command>mkdir testapp &amp;&amp; cd testapp</command></para>

          <para>Create a new directory to house your new web application. This
          should obviously sit under the application directory of your
          installed web server. If could also be symlinked, or setup via the
          configuration to work outside the web root, but that's best left to
          the user for those types of intricicies.</para>
        </listitem>

        <listitem>
          <para><command>mkdir config</command></para>

          <para>Create the config directory. This will be the place where the
          application's configuration lives. It's the one directory that can't
          be autogen'ed, unless you're not using giternal.</para>
        </listitem>

        <listitem>
          <para><command>vi config/giternal.yml</command></para>

          <para>Edit the giternal configuration file. Any standard text editor
          can be used in place of vi. Again, if you're not going to use
          giternal, then this can be skipped. It's contents should be:</para>

          <programlisting>silk:
  repo: git://github.com/tedkulp/silk.git
  path: lib</programlisting>
        </listitem>

        <listitem>
          <para><command>giternal update</command></para>

          <para>This will update any extenals defined in the
          config/giternal.yml file. In this case, it will clone the silk
          repository locally in the lib/silk directory. You should see
          something like:</para>

          <programlisting>Teds-MBP:testapp tedkulp$ giternal update
Updating silk
 ..updated
Teds-MBP:testapp tedkulp$ </programlisting>
        </listitem>

        <listitem>
          <para><command>cp lib/silk/autogen.sh .</command></para>

          <para>This copies the autogen.sh script into your testapp directory.
          This script will setup a typical application directory structure and
          proper permissions where absolutely necessary.</para>
        </listitem>

        <listitem>
          <para><command>sh autogen.sh</command></para>

          <para>Run the script in your testapp directory. This will create the
          directories necessary, copy the default config files to your config
          directory and copy the index.php file to your testapp directory. You
          should only need to run this file one time, as running it again
          could copy over any changes you've made to configuration files
          previously.</para>
        </listitem>
      </orderedlist>

      <para>At this point, you're now setup for application development. You
      should edit the config/setup.yml file to point to your development
      database, and also set any other settings to taste.</para>
    </section>
  </chapter>
</book>
