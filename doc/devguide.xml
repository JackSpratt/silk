<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<book>
  <bookinfo>
    <title>Silk Development Guide</title>

    <author>
      <firstname>Ted</firstname>

      <surname>Kulp</surname>

      <affiliation>
        <orgname>http://silkframework.com</orgname>
      </affiliation>
    </author>

    <pubdate>2009</pubdate>
  </bookinfo>

  <chapter>
    <title>Sample Application</title>

    <section>
      <title>What to build?</title>

      <para>In order to show how the various parts of the system work, we're
      going to have to build a simple application that touches a lot of
      aspects. In the spirit of programming introductions everywhere, we're
      going to build an application to catalog and display "Hello World!" in
      many different languages -- programming languages. It should have the
      following features:</para>

      <itemizedlist>
        <listitem>
          <para>Add, edit, and delete new entries</para>
        </listitem>

        <listitem>
          <para>List the entries</para>
        </listitem>

        <listitem>
          <para>Sort the entries</para>
        </listitem>

        <listitem>
          <para>Only allow editing to a predefined list of users</para>
        </listitem>

        <listitem>
          <para>Have a login/logout for thse predefined users</para>
        </listitem>
      </itemizedlist>

      <para>Hopefully, by the end of this example, you'll have a good solid
      foundation on using Silk for your own applications.</para>
    </section>

    <section>
      <title>Setting up your environment</title>

      <para>Discuss setting up apache, php, etc on a unix or Mac environment.
      Explain that I use a Mac for mostly everything I do development-wise.
      Explain why quickly, then drop it.</para>

      <para>Make sure git is installed. Also, a nice ruby environment is good
      as well. Allows for the use of giternal intead of doing traditional git
      branches... messy, messy, messy.</para>
    </section>

    <section>
      <title>Creating a new application</title>

      <para>The basic steps for setting up an application with silk go as
      follows. Using a terminal, use the following commands:</para>

      <orderedlist>
        <listitem>
          <para><command>mkdir helloworld &amp;&amp; cd
          helloworld</command></para>

          <para>Create a new directory to house your new web application. This
          should obviously sit under the application directory of your
          installed web server. If could also be symlinked, or setup via the
          configuration to work outside the web root, but that's best left to
          the user for those types of intricicies.</para>
        </listitem>

        <listitem>
          <para><command>mkdir config</command></para>

          <para>Create the config directory. This will be the place where the
          application's configuration lives. It's the one directory that can't
          be autogen'ed, unless you're not using giternal.</para>
        </listitem>

        <listitem>
          <para><command>vi config/giternal.yml</command></para>

          <para>Edit the giternal configuration file. Any standard text editor
          can be used in place of vi. Again, if you're not going to use
          giternal, then this can be skipped. It's contents should be:</para>

          <programlisting>silk:
    repo: git://github.com/tedkulp/silk.git
    path: lib</programlisting>
        </listitem>

        <listitem>
          <para><command>giternal update</command></para>

          <para>This will update any extenals defined in the
          config/giternal.yml file. In this case, it will clone the silk
          repository locally in the lib/silk directory. You should see
          something like:</para>

          <programlisting>Teds-MBP:helloworld tedkulp$ giternal update
  Updating silk
   ..updated
  Teds-MBP:helloworld tedkulp$ </programlisting>
        </listitem>

        <listitem>
          <para><command>cp lib/silk/autogen.sh .</command></para>

          <para>This copies the autogen.sh script into your helloworld
          directory. This script will setup a typical application directory
          structure and proper permissions where absolutely necessary.</para>
        </listitem>

        <listitem>
          <para><command>sh autogen.sh</command></para>

          <para>Run the script in your helloworld directory. This will create
          the directories necessary, copy the default config files to your
          config directory and copy the index.php file to your helloworld
          directory. You should only need to run this file one time, as
          running it again could copy over any changes you've made to
          configuration files previously.</para>
        </listitem>
      </orderedlist>

      <para>At this point, you're now setup for application development. You
      should edit the config/setup.yml file to point to your development
      database, and also set any other settings to taste.</para>
    </section>

    <section>
      <title></title>

      <para></para>
    </section>
  </chapter>
</book>
